<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="udemy-Django4, HTML,CSS,React,Vue,Java,Go,微服务,linux">
    <meta name="description" content="安装依赖pip install Django==4.0

how django works
first django project
创建项目
django-admin startproject my_site

tips
最顶层的包名可以">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>udemy-Django4 | malred-blog</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/css/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">
    <style type="text/css">
        
    </style>

    <script src="/libs/jquery/jquery-2.2.0.min.js"></script>
<meta name="generator" content="Hexo 5.4.2">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>


<body>

<header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="container">
            <div class="nav-wrapper">
                <div class="brand-logo">
                    <a href="/" class="waves-effect waves-light">
                        
                        <img src="/medias/logo.png" class="logo-img hide-on-small-only">
                        
                        <span class="logo-span">malred-blog</span>
                    </a>
                </div>
                

<a href="#" data-activates="mobile-nav" class="button-collapse"><i class="fa fa-navicon"></i></a>
<ul class="right">
    
    <li class="hide-on-med-and-down">
        <a href="/" class="waves-effect waves-light">
            
            <i class="fa fa-home"></i>
            
            <span>首页</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/tags" class="waves-effect waves-light">
            
            <i class="fa fa-tags"></i>
            
            <span>标签</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/categories" class="waves-effect waves-light">
            
            <i class="fa fa-bookmark"></i>
            
            <span>分类</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/archives" class="waves-effect waves-light">
            
            <i class="fa fa-archive"></i>
            
            <span>归档</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/about" class="waves-effect waves-light">
            
            <i class="fa fa-user-circle-o"></i>
            
            <span>关于</span>
        </a>
    </li>
    
    <li class="hide-on-med-and-down">
        <a href="/friends" class="waves-effect waves-light">
            
            <i class="fa fa-address-book"></i>
            
            <span>友情链接</span>
        </a>
    </li>
    
    <li>
        <a id="toggleSearch" class="waves-effect waves-light">
            <i id="searchIcon" class="mdi-action-search" title="搜索"></i>
        </a>
    </li>

</ul>

<div class="side-nav" id="mobile-nav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">malred-blog</div>
        <div class="logo-desc">
            
            前后端学习者,存放知识笔记
            
        </div>
    </div>

    

    <ul class="menu-list mobile-menu-list">
        
        <li>
            <a href="/" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-home"></i>
                
                首页
            </a>
        </li>
        
        <li>
            <a href="/tags" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-tags"></i>
                
                标签
            </a>
        </li>
        
        <li>
            <a href="/categories" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-bookmark"></i>
                
                分类
            </a>
        </li>
        
        <li>
            <a href="/archives" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-archive"></i>
                
                归档
            </a>
        </li>
        
        <li>
            <a href="/about" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-user-circle-o"></i>
                
                关于
            </a>
        </li>
        
        <li>
            <a href="/friends" class="waves-effect waves-light">
                
                <i class="fa fa-fw fa-address-book"></i>
                
                友情链接
            </a>
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fa fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>

    <div class="social-link">
    <a href="https://github.com/malred" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:malguy2022@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2725953379" class="tooltipped" data-tooltip="QQ联系我: 2725953379" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>


</div>
</div>

            </div>
        </div>

        
        <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>
</header>





<div class="bg-cover post-cover" style="background-image: url('/medias/featureimages/10.jpg')">
    <div class="container">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <div class="description center-align post-title">
                        udemy-Django4
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        margin: 35px 0 15px 0;
        padding-left: 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #toc-content .is-active-link::before {
        background-color: #42b983;
    }
</style>
<div class="row">
    <div class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/python/" target="_blank">
                                <span class="chip bg-color">python</span>
                            </a>
                        
                            <a href="/tags/web/" target="_blank">
                                <span class="chip bg-color">web</span>
                            </a>
                        
                            <a href="/tags/django/" target="_blank">
                                <span class="chip bg-color">django</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fa fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/python/" class="post-category" target="_blank">
                                python
                            </a>
                        
                            <a href="/categories/python/web/" class="post-category" target="_blank">
                                web
                            </a>
                        
                            <a href="/categories/python/web/django/" class="post-category" target="_blank">
                                django
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                <div class="post-date info-break-policy">
                    <i class="fa fa-calendar-minus-o fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2023-02-13
                </div>

                
                    
                    <div class="info-break-policy">
                        <i class="fa fa-file-word-o fa-fw"></i>文章字数:&nbsp;&nbsp;
                        2.7k
                    </div>
                    

                    
                    <div class="info-break-policy">
                        <i class="fa fa-clock-o fa-fw"></i>阅读时长:&nbsp;&nbsp;
                        13 分
                    </div>
                    
                
				
				
            </div>
        </div>
        <hr class="clearfix">
        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="安装依赖"><a href="#安装依赖" class="headerlink" title="安装依赖"></a>安装依赖</h1><pre class=" language-shell"><code class="language-shell">pip install Django==4.0
</code></pre>
<h1 id="how-django-works"><a href="#how-django-works" class="headerlink" title="how django works"></a>how django works</h1><p><img src="img.png" alt="MTV"><img src="img_2.png" alt="img_2.png"><img src="img_3.png" alt="img_3.png"><img src="img_4.png" alt="img_4.png"><br><img src="img_5.png" alt="内置权限管理,支持super用户直接查看数据库"><br><img src="img_6.png" alt="缺陷"></p>
<h1 id="first-django-project"><a href="#first-django-project" class="headerlink" title="first django project"></a>first django project</h1><p><img src="img_7.png" alt="pip安装django时已经安装了Django-Dash"></p>
<h2 id="创建项目"><a href="#创建项目" class="headerlink" title="创建项目"></a>创建项目</h2><p><img src="img_8.png" alt="img_8.png"></p>
<pre class=" language-shell"><code class="language-shell">django-admin startproject my_site
</code></pre>
<h3 id="tips"><a href="#tips" class="headerlink" title="tips"></a>tips</h3><ul>
<li>最顶层的包名可以改变,与项目名不一致也没关系</li>
<li>manage.py有一堆命令行的语句,可以让我们用各种方式与django项目交互</li>
<li><strong>init</strong>.py是一个空的python文件</li>
<li>settings.py是设置文件</li>
<li>urls.py是网站所有url</li>
<li>asgi.py是SGI兼容的web服务器服务入口</li>
<li>wsgi.py是WSI兼容的web服务器服务入口</li>
</ul>
<p><img src="img_9.png" alt="生成的项目结构"></p>
<h3 id="运行"><a href="#运行" class="headerlink" title="运行"></a>运行</h3><pre class=" language-shell"><code class="language-shell">cd my_site
python manage.py runserver
# 如果要指定端口
python manage.py runserver 8080
</code></pre>
<p><img src="img_10.png" alt="img_10.png"><img src="img_11.png" alt="img_11.png"></p>
<h1 id="first-django-application"><a href="#first-django-application" class="headerlink" title="first django application"></a>first django application</h1><p><img src="img_12.png" alt="一个项目可以写多个app,它们是独立的"><br><img src="img_13.png" alt="img_13.png"></p>
<h2 id="how-to-create-a-new-app"><a href="#how-to-create-a-new-app" class="headerlink" title="how to create a new app"></a>how to create a new app</h2><pre class=" language-shell"><code class="language-shell">python manage.py startapp app_name
</code></pre>
<p><img src="img_15.png" alt="运行"><br><img src="img_14.png" alt="新增了一个项目文件夹"></p>
<h2 id="解析"><a href="#解析" class="headerlink" title="解析"></a>解析</h2><h3 id="较小的项目中-不同app直接连接-配置-到项目的urls-py"><a href="#较小的项目中-不同app直接连接-配置-到项目的urls-py" class="headerlink" title="较小的项目中,不同app直接连接(配置)到项目的urls.py"></a>较小的项目中,不同app直接连接(配置)到项目的urls.py</h3><p><img src="img_16.png" alt="img_16.png"></p>
<h3 id="如果大的项目-这样做会混乱-所以建议连接到自己的urls-py-再将app的urls配置到项目的urls"><a href="#如果大的项目-这样做会混乱-所以建议连接到自己的urls-py-再将app的urls配置到项目的urls" class="headerlink" title="如果大的项目,这样做会混乱,所以建议连接到自己的urls.py,再将app的urls配置到项目的urls"></a>如果大的项目,这样做会混乱,所以建议连接到自己的urls.py,再将app的urls配置到项目的urls</h3><p><img src="img_18.png" alt="img_18.png"></p>
<h2 id="修改my-app的views-py"><a href="#修改my-app的views-py" class="headerlink" title="修改my_app的views.py"></a>修改my_app的views.py</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http <span class="token keyword">import</span> HttpResponse
<span class="token comment" spellcheck="true"># Create your views here.</span>
<span class="token comment" spellcheck="true"># 有基于函数和基于类的views</span>
<span class="token keyword">def</span> <span class="token function">index</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 返回http响应</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">"HELLO THIS IS A VIEW INSIDE MY_APP"</span><span class="token punctuation">)</span>
</code></pre>
<h2 id="新建urls-py"><a href="#新建urls-py" class="headerlink" title="新建urls.py"></a>新建urls.py</h2><p><img src="img_19.png" alt="img_19.png"></p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token comment" spellcheck="true"># 导入views</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views
<span class="token comment" spellcheck="true"># url配置</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># 根路由,用views的index方法处理,视图名称为index</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span>views<span class="token punctuation">.</span>index<span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'index'</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre>
<h2 id="修改-my-site-urls-py-引入my-app的urls配置"><a href="#修改-my-site-urls-py-引入my-app的urls配置" class="headerlink" title="修改 my_site/urls.py,引入my_app的urls配置"></a>修改 my_site/urls.py,引入my_app的urls配置</h2><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span>include

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'my_app/'</span><span class="token punctuation">,</span>include<span class="token punctuation">(</span><span class="token string">'my_app.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span> 
</code></pre>
<h2 id="运行并测试"><a href="#运行并测试" class="headerlink" title="运行并测试"></a>运行并测试</h2><pre class=" language-shell"><code class="language-shell">python .\manage.py runserver
</code></pre>
<p><img src="img_20.png" alt="404,提示只要my_app和admin被注册了"><br><img src="img_21.png" alt="访问my_app"></p>
<h1 id="introduction-to-URLs-views-and-routing"><a href="#introduction-to-URLs-views-and-routing" class="headerlink" title="introduction to URLs,views,and routing"></a>introduction to URLs,views,and routing</h1><h2 id="project-application-exercise"><a href="#project-application-exercise" class="headerlink" title="project application exercise"></a>project application exercise</h2><h3 id="创建新项目"><a href="#创建新项目" class="headerlink" title="创建新项目"></a>创建新项目</h3><pre class=" language-shell"><code class="language-shell">django-admin startproject my_site
cd my_site
python manage.py startapp first_app
</code></pre>
<h3 id="views-and-urls-overview"><a href="#views-and-urls-overview" class="headerlink" title="views and urls overview"></a>views and urls overview</h3><p><img src="img_22.png" alt="img_22.png"><br><img src="img_23.png" alt="img_23.png"><br><img src="img_24.png" alt="img_24.png"></p>
<h3 id="function-based-views-basics"><a href="#function-based-views-basics" class="headerlink" title="function based views - basics"></a>function based views - basics</h3><h4 id="修改first-app下的views-py"><a href="#修改first-app下的views-py" class="headerlink" title="修改first_app下的views.py"></a>修改first_app下的views.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse

<span class="token keyword">def</span> <span class="token function">simple_view</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">"SIMPLE VIEW"</span><span class="token punctuation">)</span> 
</code></pre>
<h4 id="在first-app下新建urls-py"><a href="#在first-app下新建urls-py" class="headerlink" title="在first_app下新建urls.py"></a>在first_app下新建urls.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token comment" spellcheck="true"># 从当前目录导入</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views
<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>simple_view<span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre>
<h4 id="修改my-site下的urls-py"><a href="#修改my-site下的urls-py" class="headerlink" title="修改my_site下的urls.py"></a>修改my_site下的urls.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include
<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'first_app/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'first_app.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span> 
</code></pre>
<pre class=" language-shell"><code class="language-shell">python manage.py runserver
</code></pre>
<p><img src="img_27.png" alt="显示提示是因为DEBUG=true选项"><br><img src="img_26.png" alt="img_26.png"></p>
<h4 id="修改my-site下的urls-py-1"><a href="#修改my-site下的urls-py-1" class="headerlink" title="修改my_site下的urls.py"></a>修改my_site下的urls.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include 
<span class="token comment" spellcheck="true"># 最简单的路由处理配置</span>
<span class="token keyword">def</span> <span class="token function">home_view</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">'HOME PAGE'</span><span class="token punctuation">)</span> 
<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'first_app/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'first_app.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> home_view<span class="token punctuation">)</span>
<span class="token punctuation">]</span> 
</code></pre>
<p><img src="img_28.png" alt="img_28.png"></p>
<h4 id="将home-page移动到my-site-views-py-新建"><a href="#将home-page移动到my-site-views-py-新建" class="headerlink" title="将home_page移动到my_site/views.py(新建)"></a>将home_page移动到my_site/views.py(新建)</h4><p><img src="img_29.png" alt="img_29.png"></p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse

<span class="token comment" spellcheck="true"># 最简单的路由处理配置</span>
<span class="token keyword">def</span> <span class="token function">home_view</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span><span class="token string">'HOME PAGE'</span><span class="token punctuation">)</span>
</code></pre>
<p><img src="img_30.png" alt="此时的urls.py"><br><img src="img_31.png" alt="django有热更新,可以看到homepage正常显示"></p>
<h2 id="Dynamic-Views-routing-logic"><a href="#Dynamic-Views-routing-logic" class="headerlink" title="Dynamic Views - routing logic"></a>Dynamic Views - routing logic</h2><p><img src="img_32.png" alt="img_32.png"></p>
<h3 id="修改first-app-views-py"><a href="#修改first-app-views-py" class="headerlink" title="修改first_app/views.py"></a>修改first_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse

<span class="token comment" spellcheck="true"># 字典里存放网页对应内容</span>
articles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'sports'</span><span class="token punctuation">:</span> <span class="token string">'Sports Page'</span><span class="token punctuation">,</span>
    <span class="token string">'finance'</span><span class="token punctuation">:</span> <span class="token string">'Finance Page'</span><span class="token punctuation">,</span>
    <span class="token string">'politics'</span><span class="token punctuation">:</span> <span class="token string">'Politics Page'</span>
<span class="token punctuation">}</span>


<span class="token comment" spellcheck="true"># topic接收路由参数</span>
<span class="token keyword">def</span> <span class="token function">news_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 去字典里获取内容,但是如果没有,会报keyError,而我们需要重定向报错页面</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">add_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> num1<span class="token punctuation">,</span> num2<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># first_app/num1/num2 -> num1+num2</span>
    add_res <span class="token operator">=</span> num1 <span class="token operator">+</span> num2
    res <span class="token operator">=</span> f<span class="token string">"{num1} + {num2} = {add_res}"</span>
    <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>str<span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">)</span> 
</code></pre>
<h3 id="修改first-app-urls-py"><a href="#修改first-app-urls-py" class="headerlink" title="修改first_app/urls.py"></a>修改first_app/urls.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token comment" spellcheck="true"># 从当前目录导入</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views

<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># 动态路由</span>
    <span class="token comment" spellcheck="true"># path('&lt;topic>/',views.news_view)</span>
    <span class="token comment" spellcheck="true"># 路径转换器(path convertor),接收并转换路径中的参数</span>
    <span class="token comment" spellcheck="true"># 这里将topic识别为字符串</span>
    path<span class="token punctuation">(</span><span class="token string">'&lt;str:topic>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>news_view<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'&lt;int:num1>/&lt;int:num2>'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>add_view<span class="token punctuation">)</span>
<span class="token punctuation">]</span>  
</code></pre>
<p><img src="img_33.png" alt="路径转换器"><br><img src="img_35.png" alt="img_35.png"></p>
<h2 id="Using-ResponseNotFound-and-404-Pages"><a href="#Using-ResponseNotFound-and-404-Pages" class="headerlink" title="Using ResponseNotFound and 404 Pages"></a>Using ResponseNotFound and 404 Pages</h2><p><img src="img_36.png" alt="img_36.png"><br><img src="img_37.png" alt="img_37.png"></p>
<h3 id="修改first-app-views-py-1"><a href="#修改first-app-views-py-1" class="headerlink" title="修改first_app/views.py"></a>修改first_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse<span class="token punctuation">,</span> HttpResponseNotFound 

<span class="token comment" spellcheck="true"># 字典里存放网页对应内容</span>
articles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'sports'</span><span class="token punctuation">:</span> <span class="token string">'Sports Page'</span><span class="token punctuation">,</span>
    <span class="token string">'finance'</span><span class="token punctuation">:</span> <span class="token string">'Finance Page'</span><span class="token punctuation">,</span>
    <span class="token string">'politics'</span><span class="token punctuation">:</span> <span class="token string">'Politics Page'</span>
<span class="token punctuation">}</span>
 
<span class="token comment" spellcheck="true"># topic接收路由参数</span>
<span class="token keyword">def</span> <span class="token function">news_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 尝试获取网页</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span>
        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 如果没有该网页,返回404的提示</span>
        res <span class="token operator">=</span> <span class="token string">'No page for the topic!'</span>
        <span class="token keyword">return</span> HttpResponseNotFound<span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># 返回字符串 </span>
</code></pre>
<p><img src="img_38.png" alt="img_38.png"></p>
<h3 id="修改first-app-views-py-2"><a href="#修改first-app-views-py-2" class="headerlink" title="修改first_app/views.py"></a>修改first_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse<span class="token punctuation">,</span> HttpResponseNotFound<span class="token punctuation">,</span> Http404

<span class="token comment" spellcheck="true"># 字典里存放网页对应内容</span>
articles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'sports'</span><span class="token punctuation">:</span> <span class="token string">'Sports Page'</span><span class="token punctuation">,</span>
    <span class="token string">'finance'</span><span class="token punctuation">:</span> <span class="token string">'Finance Page'</span><span class="token punctuation">,</span>
    <span class="token string">'politics'</span><span class="token punctuation">:</span> <span class="token string">'Politics Page'</span>
<span class="token punctuation">}</span> 

<span class="token comment" spellcheck="true"># topic接收路由参数</span>
<span class="token keyword">def</span> <span class="token function">news_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 尝试获取网页</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span>
        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 如果没有该网页,返回404的提示</span>
        res <span class="token operator">=</span> <span class="token string">'No page for the topic!'</span>
        <span class="token comment" spellcheck="true"># return HttpResponseNotFound(res) # 返回字符串</span>
        <span class="token keyword">raise</span> Http404<span class="token punctuation">(</span><span class="token string">"404 GENERIC ERROR"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 返回通用错误,返回模板(如404.html) </span>
</code></pre>
<p><img src="img_39.png" alt="没有配置自定义404页时的默认404"></p>
<h3 id="修改my-site-setting-py"><a href="#修改my-site-setting-py" class="headerlink" title="修改my_site/setting.py"></a>修改my_site/setting.py</h3><p><img src="img_40.png" alt="img_40.png"><br><img src="img_41.png" alt="此时的404,不会提供太多信息"></p>
<h2 id="Redirects-Basics"><a href="#Redirects-Basics" class="headerlink" title="Redirects Basics"></a>Redirects Basics</h2><p><img src="img_42.png" alt="img_42.png"><img src="img_43.png" alt="img_43.png"><img src="img_44.png" alt="img_44.png"></p>
<h3 id="first-app-views-py"><a href="#first-app-views-py" class="headerlink" title="first_app/views.py"></a>first_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse<span class="token punctuation">,</span> HttpResponseNotFound<span class="token punctuation">,</span> Http404<span class="token punctuation">,</span> HttpResponseRedirect

<span class="token comment" spellcheck="true"># 字典里存放网页对应内容</span>
articles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'sports'</span><span class="token punctuation">:</span> <span class="token string">'Sports Page'</span><span class="token punctuation">,</span>
    <span class="token string">'finance'</span><span class="token punctuation">:</span> <span class="token string">'Finance Page'</span><span class="token punctuation">,</span>
    <span class="token string">'politics'</span><span class="token punctuation">:</span> <span class="token string">'Politics Page'</span>
<span class="token punctuation">}</span>
 
<span class="token comment" spellcheck="true"># topic接收路由参数</span>
<span class="token keyword">def</span> <span class="token function">news_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># 尝试获取网页</span>
    <span class="token keyword">try</span><span class="token punctuation">:</span>
        res <span class="token operator">=</span> articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span>
        <span class="token keyword">return</span> HttpResponse<span class="token punctuation">(</span>articles<span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token keyword">except</span><span class="token punctuation">:</span>
        <span class="token comment" spellcheck="true"># 如果没有该网页,返回404的提示</span>
        res <span class="token operator">=</span> <span class="token string">'No page for the topic!'</span>
        <span class="token comment" spellcheck="true"># return HttpResponseNotFound(res) # 返回字符串</span>
        <span class="token keyword">raise</span> Http404<span class="token punctuation">(</span><span class="token string">"404 GENERIC ERROR"</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># 返回通用错误,返回模板(如404.html) </span>

<span class="token keyword">def</span> <span class="token function">num_page_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> num_page<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>num_page<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 获取字典里所有的key</span>
    topics_list <span class="token operator">=</span> list<span class="token punctuation">(</span>articles<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ['sports','finance','politics']</span>
    topic <span class="token operator">=</span> topics_list<span class="token punctuation">[</span>num_page<span class="token punctuation">]</span>
    <span class="token comment" spellcheck="true"># 重定向到 first_app/除num_page外的当前路由/&lt;topic></span>
    <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>topic<span class="token punctuation">)</span> 
</code></pre>
<h3 id="first-app-urls-py"><a href="#first-app-urls-py" class="headerlink" title="first_app/urls.py"></a>first_app/urls.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token comment" spellcheck="true"># 从当前目录导入</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views

<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># 将被重定向的url</span>
    path<span class="token punctuation">(</span><span class="token string">'redirect/&lt;int:num_page>'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>num_page_view<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true"># 如果没有redirect,则不知道为啥把除了0以外的都识别称字符串,然后报404</span>
    path<span class="token punctuation">(</span><span class="token string">'redirect/&lt;str:topic>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>news_view<span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token punctuation">]</span>
</code></pre>
<p><img src="img_45.png" alt="索引超出"></p>
<h2 id="reverse-urls-and-url-names"><a href="#reverse-urls-and-url-names" class="headerlink" title="reverse urls and url names"></a>reverse urls and url names</h2><p><img src="img_46.png" alt="img_46.png"><img src="img_47.png" alt="img_47.png"><img src="img_48.png" alt="reverse方法查找对应name的url,可用于重定向"> </p>
<h3 id="first-app-views-py-1"><a href="#first-app-views-py-1" class="headerlink" title="first_app/views.py"></a>first_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> reverse
<span class="token keyword">from</span> django<span class="token punctuation">.</span>http<span class="token punctuation">.</span>response <span class="token keyword">import</span> HttpResponse<span class="token punctuation">,</span> HttpResponseNotFound<span class="token punctuation">,</span> Http404<span class="token punctuation">,</span> HttpResponseRedirect

<span class="token comment" spellcheck="true"># 字典里存放网页对应内容</span>
articles <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token string">'sports'</span><span class="token punctuation">:</span> <span class="token string">'Sports Page'</span><span class="token punctuation">,</span>
    <span class="token string">'finance'</span><span class="token punctuation">:</span> <span class="token string">'Finance Page'</span><span class="token punctuation">,</span>
    <span class="token string">'politics'</span><span class="token punctuation">:</span> <span class="token string">'Politics Page'</span>
<span class="token punctuation">}</span> 

<span class="token comment" spellcheck="true"># topic接收路由参数</span>
<span class="token keyword">def</span> <span class="token function">news_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> topic<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    
<span class="token keyword">def</span> <span class="token function">num_page_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> num_page<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">print</span><span class="token punctuation">(</span>num_page<span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 获取字典里所有的key</span>
    topics_list <span class="token operator">=</span> list<span class="token punctuation">(</span>articles<span class="token punctuation">.</span>keys<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment" spellcheck="true"># ['sports','finance','politics']</span>
    topic <span class="token operator">=</span> topics_list<span class="token punctuation">[</span>num_page<span class="token punctuation">]</span>
    <span class="token comment" spellcheck="true"># 反向定位到name为topic-page的url,并传递参数topic</span>
    webpage <span class="token operator">=</span> reverse<span class="token punctuation">(</span><span class="token string">'topic-page'</span><span class="token punctuation">,</span> args<span class="token operator">=</span><span class="token punctuation">[</span>topic<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token comment" spellcheck="true"># 重定向到 first_app/除num_page外的当前路由/&lt;topic></span>
    <span class="token comment" spellcheck="true"># return HttpResponseRedirect(topic)</span>
    <span class="token keyword">return</span> HttpResponseRedirect<span class="token punctuation">(</span>webpage<span class="token punctuation">)</span> 
</code></pre>
<h3 id="first-app-urls-py-1"><a href="#first-app-urls-py-1" class="headerlink" title="first_app/urls.py"></a>first_app/urls.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token comment" spellcheck="true"># 从当前目录导入</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views

<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token comment" spellcheck="true"># 将被重定向的url</span>
    path<span class="token punctuation">(</span><span class="token string">'redirect/&lt;int:num_page>'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>num_page_view<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true"># 如果没有redirect,则不知道为啥把除了0以外的都识别称字符串,然后报404</span>
    path<span class="token punctuation">(</span><span class="token string">'redirect/&lt;str:topic>/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>news_view<span class="token punctuation">,</span>name<span class="token operator">=</span><span class="token string">'topic-page'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> 
<span class="token punctuation">]</span> 
</code></pre>
<h2 id="connecting-a-view-to-a-template"><a href="#connecting-a-view-to-a-template" class="headerlink" title="connecting a view to a template"></a>connecting a view to a template</h2><p><img src="img_49.png" alt="img_49.png"><img src="img_50.png" alt="img_50.png"><img src="img_51.png" alt="img_51.png"></p>
<h3 id="在顶层目录下创建templates-first-app-example-html"><a href="#在顶层目录下创建templates-first-app-example-html" class="headerlink" title="在顶层目录下创建templates/first_app/example.html"></a>在顶层目录下创建templates/first_app/example.html</h3><p><img src="img_52.png" alt="img_52.png"></p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>example html connected<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="first-app-views-py-2"><a href="#first-app-views-py-2" class="headerlink" title="first_app/views.py"></a>first_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render 
<span class="token keyword">def</span> <span class="token function">simple_view</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>req<span class="token punctuation">,</span><span class="token string">'first_app/example.html'</span><span class="token punctuation">)</span> <span class="token comment" spellcheck="true"># xxx.html</span>
</code></pre>
<h3 id="first-app-urls-py-2"><a href="#first-app-urls-py-2" class="headerlink" title="first_app/urls.py"></a>first_app/urls.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token comment" spellcheck="true"># 从当前目录导入</span>
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views

<span class="token comment" spellcheck="true"># 配置路由</span>
urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span>views<span class="token punctuation">.</span>simple_view<span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre>
<p><img src="img_53.png" alt="没有找到"><img src="img_54.png" alt="django尝试从内置的admin\templates和auth\templates里寻找html"></p>
<h3 id="admin和auth在my-site-settings里应用程序列表里有配置"><a href="#admin和auth在my-site-settings里应用程序列表里有配置" class="headerlink" title="admin和auth在my_site/settings里应用程序列表里有配置"></a>admin和auth在my_site/settings里应用程序列表里有配置</h3><p><img src="img_55.png" alt="img_55.png"></p>
<h3 id="settings里配置templates所在目录"><a href="#settings里配置templates所在目录" class="headerlink" title="settings里配置templates所在目录"></a>settings里配置templates所在目录</h3><p><img src="img_56.png" alt="img_56.png"><br><img src="img_57.png" alt="可以多个"><br><img src="img_58.png" alt="成功"></p>
<h1 id="django-and-templates"><a href="#django-and-templates" class="headerlink" title="django and templates"></a>django and templates</h1><p><img src="img_59.png" alt="img_59.png"><br><img src="img_60.png" alt="img_60.png"><br><img src="img_61.png" alt="img_61.png"></p>
<h2 id="template-directories"><a href="#template-directories" class="headerlink" title="template directories"></a>template directories</h2><p><img src="img_62.png" alt="img_62.png"><img src="img_63.png" alt="按app来分templates目录更加理想"><img src="img_64.png" alt="为此,需要注册app到项目setting.py"><br><img src="img_65.png" alt="img_65.png"></p>
<h3 id="steps"><a href="#steps" class="headerlink" title="steps"></a>steps</h3><p><img src="img_66.png" alt="创建并添加到项目urls"><img src="img_67.png" alt="迁移"><img src="img_68.png" alt="链接app到项目"><br><img src="img_69.png" alt="img_69.png"><img src="img_70.png" alt="img_70.png"><img src="img_71.png" alt="img_71.png"><br><img src="img_72.png" alt="在my_app下有子目录my_app是因为有可能多个app有同名的html"><img src="img_73.png" alt="img_73.png"><img src="img_74.png" alt="img_74.png">  </p>
<h3 id="创建项目-1"><a href="#创建项目-1" class="headerlink" title="创建项目"></a>创建项目</h3><pre class=" language-shell"><code class="language-shell">django-admin startproject i_site
cd i_site
python .\manage.py startapp my_app 
</code></pre>
<h3 id="my-app"><a href="#my-app" class="headerlink" title="my_app"></a>my_app</h3><h4 id="urls-py"><a href="#urls-py" class="headerlink" title="urls.py"></a>urls.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views
urlpatterns<span class="token operator">=</span><span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span>views<span class="token punctuation">.</span>example_view<span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre>
<h4 id="views-py"><a href="#views-py" class="headerlink" title="views.py"></a>views.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token keyword">def</span> <span class="token function">example_view</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># my_app/templates/my_app/example.html</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>req<span class="token punctuation">,</span><span class="token string">'my_app/example.html'</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="i-site"><a href="#i-site" class="headerlink" title="i_site"></a>i_site</h3><h4 id="urls-py-1"><a href="#urls-py-1" class="headerlink" title="urls.py"></a>urls.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span>include

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token comment" spellcheck="true"># !!!这里一定要加 / ,不如my_app/xxx/就识别不了!!!</span>
    path<span class="token punctuation">(</span><span class="token string">'my_app/'</span><span class="token punctuation">,</span>include<span class="token punctuation">(</span><span class="token string">'my_app.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">]</span>
</code></pre>
<h3 id="第一次迁移-在项目根目录运行"><a href="#第一次迁移-在项目根目录运行" class="headerlink" title="第一次迁移(在项目根目录运行)"></a>第一次迁移(在项目根目录运行)</h3><pre class=" language-shell"><code class="language-shell"># D:\fuck\udemy\python-django\i_site 
python .\manage.py migrate
</code></pre>
<p><img src="img_76.png" alt="img_76.png"></p>
<h3 id="配置i-site-setting-py"><a href="#配置i-site-setting-py" class="headerlink" title="配置i_site/setting.py"></a>配置i_site/setting.py</h3><p><img src="img_77.png" alt="img_77.png"></p>
<h3 id="如果数据库或模型发生变化-运行"><a href="#如果数据库或模型发生变化-运行" class="headerlink" title="如果数据库或模型发生变化,运行"></a>如果数据库或模型发生变化,运行</h3><p><img src="img_78.png" alt="img_78.png"></p>
<pre class=" language-shell"><code class="language-shell">python manage.py migrate
</code></pre>
<h3 id="创建app的templates"><a href="#创建app的templates" class="headerlink" title="创建app的templates"></a>创建app的templates</h3><p><img src="img_79.png" alt="这个是ture才有用"><br><img src="img_80.png" alt="img_80.png"><img src="img_81.png" alt="img_81.png"></p>
<h3 id="运行项目"><a href="#运行项目" class="headerlink" title="运行项目"></a>运行项目</h3><p><img src="img_82.png" alt="img_82.png"> </p>
<h2 id="variables-in-templates"><a href="#variables-in-templates" class="headerlink" title="variables in templates"></a>variables in templates</h2><h3 id="i-site-my-app-templates-my-app-variable-html"><a href="#i-site-my-app-templates-my-app-variable-html" class="headerlink" title="i_site/my_app/templates/my_app/variable.html"></a>i_site/my_app/templates/my_app/variable.html</h3><pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>VARIABLE.HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--字符串变量--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>hello {{first_name}} {{last_name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--list变量--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{some_list}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>some_list第一项: {{some_list.0}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--字典变量--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{{some_dict}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>字典的值: {{some_dict.inside_key}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>{# 模板的注释 this is a comment 不会显示在页面里 #}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="i-site-my-app-urls-py"><a href="#i-site-my-app-urls-py" class="headerlink" title="i_site/my_app/urls.py"></a>i_site/my_app/urls.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path
<span class="token keyword">from</span> <span class="token punctuation">.</span> <span class="token keyword">import</span> views

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>example_view<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'variable/'</span><span class="token punctuation">,</span> views<span class="token punctuation">.</span>variable_view<span class="token punctuation">)</span>
<span class="token punctuation">]</span> 
</code></pre>
<h3 id="i-site-my-app-views-py"><a href="#i-site-my-app-views-py" class="headerlink" title="i_site/my_app/views.py"></a>i_site/my_app/views.py</h3><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render


<span class="token keyword">def</span> <span class="token function">example_view</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token comment" spellcheck="true"># my_app/templates/my_app/example.html</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>req<span class="token punctuation">,</span> <span class="token string">'my_app/example.html'</span><span class="token punctuation">)</span>


<span class="token keyword">def</span> <span class="token function">variable_view</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span><span class="token punctuation">:</span>
    my_var <span class="token operator">=</span> <span class="token punctuation">{</span>
        <span class="token comment" spellcheck="true"># 字符串变量</span>
        <span class="token string">'first_name'</span><span class="token punctuation">:</span> <span class="token string">'Rosalind'</span><span class="token punctuation">,</span>
        <span class="token string">'last_name'</span><span class="token punctuation">:</span> <span class="token string">'Franklin'</span><span class="token punctuation">,</span>
        <span class="token comment" spellcheck="true"># list变量</span>
        <span class="token string">'some_list'</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token comment" spellcheck="true"># 字典变量</span>
        <span class="token string">'some_dict'</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
            <span class="token string">'inside_key'</span><span class="token punctuation">:</span> <span class="token string">'inside_value'</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token comment" spellcheck="true"># context是上下文对象,在模板文件里可以拿到</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>req<span class="token punctuation">,</span> <span class="token string">'my_app/variable.html'</span><span class="token punctuation">,</span> context<span class="token operator">=</span>my_var<span class="token punctuation">)</span> 
</code></pre>
<h3 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h3><p><img src="img_83.png" alt="img_83.png"></p>
<h2 id="vscode-django-扩展"><a href="#vscode-django-扩展" class="headerlink" title="vscode django 扩展"></a>vscode django 扩展</h2><p><img src="img_84.png" alt="img_84.png"></p>
<h2 id="filters"><a href="#filters" class="headerlink" title="filters"></a>filters</h2><p><img src="img_85.png" alt="img_85.png"><img src="img_86.png" alt="filter可以在变量渲染前对变量进行操作"></p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>VARIABLE.HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--字符串变量--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>hello {{first_name}} {{last_name}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--
    filter
        upper: 转大写
        length: 得到该变量长度
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>hello {{first_name|upper}} {{last_name|length}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--
    filter
        capfirst: 首字母转大写
        lower: 转小写
        可以叠加使用,从左到右依次执行
--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>hello {{first_name|upper|lower|capfirst}} {{last_name|capfirst}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span> 
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p><img src="img_87.png" alt="img_87.png"></p>
<h2 id="tags"><a href="#tags" class="headerlink" title="tags"></a>tags</h2><h3 id="for-loops-循环标签"><a href="#for-loops-循环标签" class="headerlink" title="for loops (循环标签)"></a>for loops (循环标签)</h3><p><img src="img_88.png" alt="img_88.png"></p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>VARIABLE.HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>some_list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    {% for item in some_list %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{item}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    {% endfor %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span>some_dict<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    {% for k,v in some_dict.items %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>{{k}} : {{v}}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    {% endfor %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<p><img src="img_90.png" alt="img_90.png"></p>
<h3 id="if-elif-else"><a href="#if-elif-else" class="headerlink" title="if,elif,else"></a>if,elif,else</h3><p><img src="img_89.png" alt="img_89.png"><br><img src="img_91.png" alt="img_91.png"> </p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>VARIABLE.HTML<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--等号两边要留空格,否则html解析为字符串--></span>
<span class="token comment" spellcheck="true">&lt;!--Could not parse the remainder--></span>
{# {% if first_name=='Rosalind' %} <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>-</span> <span class="token attr-name">错误写法</span> <span class="token attr-name">#}</span>
    <span class="token attr-name">&lt;h2</span><span class="token punctuation">></span></span>rosilind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
{% if first_name == 'Rosalind' %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    {% endif %}
    {% for num in some_list %}
    {% if num == 2 %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>TWO<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    {% elif num > 2 %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>>2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    {% else %}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>&lt;2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    {% endif %}
    {% endfor %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>code</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pre</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img_93.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img_93.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tags-and-url-names-in-templates<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#tags-and-url-names-in-templates<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>headerlink<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>tags and url names in templates<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>tags and url names in templates<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img_94.png<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>img_94.png<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>example-html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>#example-html<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>headerlink<span class="token punctuation">"</span></span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>example.html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>example.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pre</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>code</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>html<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">></span></span>example connected<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
    {# 这里就是去my_app下的urls.py里找name为variable的url路径 #}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% url <span class="token punctuation">'</span>my_app:variable<span class="token punctuation">'</span> %}<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Go to variable.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="my-app-urls-html"><a href="#my-app-urls-html" class="headerlink" title="my_app/urls.html"></a>my_app/urls.html</h3><p><img src="img_97.png" alt="img_97.png"> </p>
<h3 id="测试-1"><a href="#测试-1" class="headerlink" title="测试"></a>测试</h3><p><img src="img_96.png" alt="img_96.png"><br><img src="img_95.png" alt="可以跳转"></p>
<h2 id="template-inheritance-模板继承"><a href="#template-inheritance-模板继承" class="headerlink" title="template inheritance (模板继承)"></a>template inheritance (模板继承)</h2><p><img src="img_98.png" alt="有些页面的重复部分,如导航/版权/联系我们...,可以用继承来解决"><br><img src="img_99.png" alt="img_99.png"></p>
<h3 id="settings-py"><a href="#settings-py" class="headerlink" title="settings.py"></a>settings.py</h3><p><img src="img_100.png" alt="img_100.png"><img src="img_101.png" alt="确保my_app已安装到项目"><img src="img_102.png" alt="配置模板文件位置"></p>
<h3 id="base-html-在项目根目录的templates目录下"><a href="#base-html-在项目根目录的templates目录下" class="headerlink" title="base.html(在项目根目录的templates目录下)"></a>base.html(在项目根目录的templates目录下)</h3><p><img src="img_104.png" alt="img_104.png"></p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>this is above the block in base.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--这里的base是名称,可任意,但是必须有--></span>
<span class="token comment" spellcheck="true">&lt;!--block里放子模板的内容--></span>
{% block base %}

{% endblock %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>this is below the block in base.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<h3 id="example-html-1"><a href="#example-html-1" class="headerlink" title="example.html"></a>example.html</h3><pre class=" language-html"><code class="language-html">{% extends 'base.html' %}
{% block base %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#0ebe90</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>example.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
{% endblock %}
</code></pre>
<h3 id="测试-2"><a href="#测试-2" class="headerlink" title="测试"></a>测试</h3><p><img src="img_105.png" alt="img_105.png"></p>
<h2 id="custom-error-template"><a href="#custom-error-template" class="headerlink" title="custom error template"></a>custom error template</h2><p><img src="img_106.png" alt="img_106.png"><img src="img_107.png" alt="img_107.png"></p>
<h3 id="项目根目录-templates-下新建404-html"><a href="#项目根目录-templates-下新建404-html" class="headerlink" title="项目根目录/templates 下新建404.html"></a>项目根目录/templates 下新建404.html</h3><p><img src="img_108.png" alt="名称必须是404.html,除非改配置"></p>
<pre class=" language-html"><code class="language-html"><span class="token doctype">&lt;!DOCTYPE html></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>en<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Title<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">color</span><span class="token punctuation">:</span>orangered<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>404 ERROR<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">></span></span>
</code></pre>
<blockquote>
<p>此时访问不存在的url依然是报错页,需要更改配置来显示404页面</p>
</blockquote>
<h3 id="settings-py-1"><a href="#settings-py-1" class="headerlink" title="settings.py"></a>settings.py</h3><p><img src="img_109.png" alt="这里不知道是不是127.0.0.1有问题,报错bad request(400)"><br><img src="img_111.png" alt="img_111.png"><br><img src="img_113.png" alt="改为允许所有ip访问"></p>
<h3 id="重启并测试"><a href="#重启并测试" class="headerlink" title="重启并测试"></a>重启并测试</h3><p><img src="img_112.png" alt="img_112.png"></p>
<h3 id="如果不叫404-html-会使用默认的404页面"><a href="#如果不叫404-html-会使用默认的404页面" class="headerlink" title="如果不叫404.html,会使用默认的404页面"></a>如果不叫404.html,会使用默认的404页面</h3><p><img src="img_114.png" alt="img_114.png"></p>
<h3 id="在项目urls里配置404-则可以不叫404-html"><a href="#在项目urls里配置404-则可以不叫404-html" class="headerlink" title="在项目urls里配置404,则可以不叫404.html"></a>在项目urls里配置404,则可以不叫404.html</h3><h4 id="i-site-views-py-新建"><a href="#i-site-views-py-新建" class="headerlink" title="i_site/views.py(新建)"></a>i_site/views.py(新建)</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>shortcuts <span class="token keyword">import</span> render
<span class="token comment" spellcheck="true"># 这里参数名必须是exception</span>
<span class="token keyword">def</span> <span class="token function">my_custom_page_not_found_view</span><span class="token punctuation">(</span>req<span class="token punctuation">,</span> exception<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">return</span> render<span class="token punctuation">(</span>req<span class="token punctuation">,</span> <span class="token string">'error_view.html'</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">)</span> 
</code></pre>
<h4 id="i-site-urls-py"><a href="#i-site-urls-py" class="headerlink" title="i_site/urls.py"></a>i_site/urls.py</h4><pre class=" language-python"><code class="language-python"><span class="token keyword">from</span> django<span class="token punctuation">.</span>contrib <span class="token keyword">import</span> admin
<span class="token keyword">from</span> django<span class="token punctuation">.</span>urls <span class="token keyword">import</span> path<span class="token punctuation">,</span> include

urlpatterns <span class="token operator">=</span> <span class="token punctuation">[</span>
    path<span class="token punctuation">(</span><span class="token string">'admin/'</span><span class="token punctuation">,</span> admin<span class="token punctuation">.</span>site<span class="token punctuation">.</span>urls<span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">(</span><span class="token string">'my_app/'</span><span class="token punctuation">,</span> include<span class="token punctuation">(</span><span class="token string">'my_app.urls'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>
<span class="token comment" spellcheck="true"># 配置处理404页面的方法</span>
handler404 <span class="token operator">=</span> <span class="token string">'i_site.views.my_custom_page_not_found_view'</span> 
</code></pre>
<p><img src="img_115.png" alt="其他handler"><img src="img_116.png" alt="测试"></p>
<h2 id="static-files"><a href="#static-files" class="headerlink" title="static files"></a>static files</h2><p><img src="img_117.png" alt="img_117.png"><img src="img_118.png" alt="img_118.png"><br><img src="img_119.png" alt="settings的这个app(默认有),可以提供静态资源的访问服务"><br><img src="img_120.png" alt="img_120.png"><img src="img_123.png" alt="图片位置"></p>
<h3 id="example-html-2"><a href="#example-html-2" class="headerlink" title="example.html"></a>example.html</h3><pre class=" language-html"><code class="language-html">{% extends 'base.html' %}
{# 加载静态资源 #}
{% load static %}
{% block base %}
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">text-align</span><span class="token punctuation">:</span>center<span class="token punctuation">;</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token hexcode">#0ebe90</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>example.html<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">></span></span>
<span class="token comment" spellcheck="true">&lt;!--my_app/static/my_app/test.jpg--></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>{% static <span class="token punctuation">'</span>my_app/test.jpg<span class="token punctuation">'</span> %}<span class="token punctuation">"</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>my_image<span class="token punctuation">"</span></span><span class="token style-attr language-css"><span class="token attr-name"> <span class="token attr-name">style</span></span><span class="token punctuation">="</span><span class="token attr-value"><span class="token property">width</span><span class="token punctuation">:</span> <span class="token number">300</span>px<span class="token punctuation">;</span><span class="token property">height</span><span class="token punctuation">:</span> <span class="token number">400</span>px<span class="token punctuation">;</span></span><span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
{% endblock %}
</code></pre>
<p><img src="img_121.png" alt="重启后才能看见图"></p>
<h1 id="introduction-to-models-and-databases"><a href="#introduction-to-models-and-databases" class="headerlink" title="introduction to models and databases"></a>introduction to models and databases</h1><p><img src="img_124.png" alt="img_124.png"><img src="img_125.png" alt="img_125.png"></p>

            </div>
            <hr/>

            
            <style>
    #reward {
        margin: 40px 0;
        text-align: center;
    }

    #reward .reward-link {
        font-size: 1.88rem;
    }

    #reward .btn-floating:hover {
        box-shadow: 0 6px 12px rgba(0, 0, 0, 0.2), 0 5px 15px rgba(0, 0, 0, 0.2);
    }

    #rewardModal {
        width: 320px;
        height: 350px;
    }

    #rewardModal .reward-title {
        margin: 15px auto;
        padding-bottom: 5px;
    }

    #rewardModal .modal-content {
        padding: 10px;
    }

    #rewardModal .close {
        position: absolute;
        right: 15px;
        top: 15px;
        color: rgba(0, 0, 0, 0.5);
        font-size: 1.3rem;
        line-height: 20px;
        cursor: pointer;
    }

    #rewardModal .reward-tabs {
        margin: 0 auto;
        width: 210px;
    }

    .reward-tabs .tabs {
        height: 38px;
        margin: 10px auto;
        padding-left: 0;
    }

    .reward-tabs .tabs .tab {
        height: 38px;
        line-height: 38px;
    }

    .reward-tabs .tab a {
        color: #fff;
        background-color: #ccc;
    }

    .reward-tabs .tab a:hover {
        color: #fff;
    }

    .reward-tabs .wechat-tab .active {
        color: #fff;
        background-color: #22AB38;
    }

    .reward-tabs .alipay-tab .active {
        color: #fff;
        background-color: #019FE8;
    }

    .reward-tabs .reward-img {
        width: 210px;
        height: 210px;
    }
</style>

<div id="reward">
    <a class="reward-link btn-floating btn-large waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close"><i class="fa fa-close"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs">
                        <li class="tab wechat-tab waves-effect waves-light"><a class="active" href="#wechat">微信</a></li>
                        <li class="tab alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                    </ul>
                    <div id="wechat">
                        <img src="/medias/reward/wechat.png" class="reward-img" alt="微信打赏二维码">
                    </div>
                    <div id="alipay">
                        <img src="/medias/reward/alipay.png" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('#reward .reward-link').on('click', function () {
            $('#rewardModal').openModal();
        });

        $('#rewardModal .close').on('click', function () {
            $('#rewardModal').closeModal();
        });
    });
</script>
            

            <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">

<div id="article-share">
    
    <div class="social-share" data-disabled="qzone" data-wechat-qrcode-helper="<p>微信里点“发现”->“扫一扫”二维码便可查看分享。</p>"></div>
    
</div>

<script src="/libs/share/js/social-share.min.js"></script>

            <div class="reprint">
                <p>
                    <span class="reprint-tip">
                        <i class="fa fa-exclamation-circle"></i>&nbsp;&nbsp;转载请注明:
                    </span>
                    <a href="https://malred.github.io" class="b-link-green">malred-blog</a>
                    <i class="fa fa-angle-right fa-lg fa-fw text-color"></i>
                    <a href="/2023/02/13/udemy-django4/udemy-django4/" class="b-link-green">udemy-Django4</a>
                </p>
            </div>
        </div>
    </div>

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fa fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2023/02/13/udemy-rust/udemy-rust/udemy-rust/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="udemy-rust">
                        
                        <span class="card-title">udemy-rust</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">what is rust

现代编程语言,可以解决过去编程语言的问题;
无null(有丰富的类型系统,无引用与指针);
无异常(强制的异常处理);
良好的包管理和构建系统;
无数据竞争(利于编写异步代码)installing rustcar</div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="fa fa-clock-o fa-fw icon-date"></i>2023-02-13
                        </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/rust/" class="post-category" target="_blank">
                                    rust
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/rust/" target="_blank">
                        <span class="chip bg-color">rust</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fa fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2023/02/12/udemy-css-gao-ji/udemy-css-gao-ji/udemy-css-gao-ji/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/23.jpg" class="responsive-img" alt="udemy Advanced CSS and Sass - 高级 CSS 和 Sass">
                        
                        <span class="card-title">udemy Advanced CSS and Sass - 高级 CSS 和 Sass</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary">课程大纲
开发工具 vscode + google
项目1: Natours 一家提供自然之旅的虚构公司项目演示
初始工程
index.html&lt;!doctype html>
&lt;html lang="en">
&lt;head></div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="fa fa-clock-o fa-fw icon-date"></i>2023-02-12
                            </span>
                        <span class="publish-author">
                            
                            <i class="fa fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/css/" class="post-category" target="_blank">
                                    css
                                </a>
                            
                            <a href="/categories/css/%E9%AB%98%E9%98%B6/" class="post-category" target="_blank">
                                    高阶
                                </a>
                            
                            <a href="/categories/css/%E9%AB%98%E9%98%B6/%E5%89%8D%E7%AB%AF/" class="post-category" target="_blank">
                                    前端
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/%E5%89%8D%E7%AB%AF/" target="_blank">
                        <span class="chip bg-color">前端</span>
                    </a>
                    
                    <a href="/tags/css/" target="_blank">
                        <span class="chip bg-color">css</span>
                    </a>
                    
                    <a href="/tags/%E9%AB%98%E9%98%B6/" target="_blank">
                        <span class="chip bg-color">高阶</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>
</div>


<script>
    $('#articleContent').on('copy', function (e) {
        // IE8 or earlier browser is 'undefined'
        if (typeof window.getSelection === 'undefined') return;

        var selection = window.getSelection();
        // if the selection is short let's not annoy our users.
        if (('' + selection).length < Number.parseInt('120')) {
            return;
        }

        // create a div outside of the visible area and fill it with the selected text.
        var bodyElement = document.getElementsByTagName('body')[0];
        var newdiv = document.createElement('div');
        newdiv.style.position = 'absolute';
        newdiv.style.left = '-99999px';
        bodyElement.appendChild(newdiv);
        newdiv.appendChild(selection.getRangeAt(0).cloneContents());

        // we need a <pre> tag workaround.
        // otherwise the text inside "pre" loses all the line breaks!
        if (selection.getRangeAt(0).commonAncestorContainer.nodeName === 'PRE') {
            newdiv.innerHTML = "<pre>" + newdiv.innerHTML + "</pre>";
        }

        var url = document.location.href;
        newdiv.innerHTML += '<br />'
            + '来源: malred-blog<br />'
            + '作者: malred<br />'
            + '链接: <a href="' + url + '">' + url + '</a><br />'
            + '本文章著作权归作者所有，任何形式的转载都请注明出处 -> https://malred.github.io/。';

        selection.selectAllChildren(newdiv);
        window.setTimeout(function () {bodyElement.removeChild(newdiv);}, 200);
    });
</script>

    </div>
    <div class="col l3 hide-on-med-and-down">
        <div class="toc-widget">
            <div class="toc-title"><i class="fa fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h1, h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h1, h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>
    

</main>


<footer class="page-footer bg-color">
    <div class="container row center-align">
        <div class="col s12 m8 l8 copy-right">
            本站由&copy;<a href="https://blinkfox.github.io/" target="_blank">Blinkfox</a>基于
            <a href="https://hexo.io/" target="_blank">Hexo</a> 的
            <a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">hexo-theme-matery</a>主题搭建.

            
                &nbsp;<i class="fa fa-area-chart"></i>&nbsp;站点总字数:&nbsp;
                <span class="white-color">49k</span>
            

            
			
        </div>
        <div class="col s12 m4 l4 social-link ">
    <a href="https://github.com/malred" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fa fa-github"></i>
    </a>



    <a href="mailto:malguy2022@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fa fa-envelope-open"></i>
    </a>



    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=2725953379" class="tooltipped" data-tooltip="QQ联系我: 2725953379" data-position="top" data-delay="50">
        <i class="fa fa-qq"></i>
    </a>


</div>
    </div>
</footer>

<div class="progress-bar"></div>


<!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fa fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input" autofocus="">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script src="/js/search.js"></script>
<script type="text/javascript">
    searchFunc("/" + "search.xml", 'searchInput', 'searchResult');
</script>
<!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fa fa-angle-up"></i>
    </a>
</div>


<script src="/libs/materialize/js/materialize.min.js"></script>
<script src="/libs/masonry/masonry.pkgd.min.js"></script>
<script src="/libs/aos/aos.js"></script>
<script src="/libs/scrollprogress/scrollProgress.min.js"></script>
<script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
<script src="/js/matery.js"></script>

<!-- Global site tag (gtag.js) - Google Analytics -->

<script async src="https://www.googletagmanager.com/gtag/js?id=G-MSEYRC5EW5"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
        dataLayer.push(arguments);
    }

    gtag('js', new Date());
    gtag('config', 'G-MSEYRC5EW5');
</script>



    <script src="/libs/others/clicklove.js"></script>



</body>
</html>